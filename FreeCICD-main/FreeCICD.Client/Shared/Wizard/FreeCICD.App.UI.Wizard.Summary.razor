@* SelectionSummary.razor - Displays previous wizard selections using Bootstrap *@

@if (Selections.Any(s => !string.IsNullOrWhiteSpace(s.Value)))
{
    <div class="alert alert-info py-2 px-3 mb-3">
        <div class="d-flex align-items-center mb-2 pb-2 border-bottom border-info border-opacity-25">
            <i class="fa fa-clipboard-list me-2"></i>
            <span class="small fw-bold text-uppercase" style="letter-spacing: 0.5px;">Your Selections</span>
        </div>
        <div class="d-flex flex-wrap gap-2">
            @foreach (var selection in Selections.Where(s => !string.IsNullOrWhiteSpace(s.Value)))
            {
                <span class="badge bg-white text-dark border shadow-sm py-2 px-3" title="@selection.Value">
                    <span class="text-primary fw-semibold">@selection.Label:</span>
                    <span class="ms-1">@TruncateText(selection.Value, 40)</span>
                </span>
            }
        </div>
    </div>
}

@code {
    [Parameter]
    public List<SelectionItem> Selections { get; set; } = new();

    public class SelectionItem
    {
        public string Label { get; set; } = "";
        public string Value { get; set; } = "";
    }

    private string TruncateText(string text, int maxLength)
    {
        if (string.IsNullOrEmpty(text)) return "";
        if (text.Length <= maxLength) return text;
        return text.Substring(0, maxLength - 3) + "...";
    }
}
